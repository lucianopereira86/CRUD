(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2kGi":function(t,e,a){"use strict";var o=a("TFDZ"),s=a.n(o);s.a},"AT+L":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("div",{staticClass:"text-center"},[o("img",{attrs:{src:a("Kkic")}})]),o("q-slide-transition",{staticClass:"relative-position full-width q-pa-md",attrs:{appear:""}},[t.showMain?o("div",{staticClass:"absolute-bottom"},[o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{staticClass:"relative-position",attrs:{size:"1.4em",round:"",color:"pink"},on:{click:function(e){t.mostrarLogin()}}},[o("q-icon",{staticClass:"absolute-center",attrs:{name:"lock_open",size:"1.3em"}})],1),o("div",{staticClass:"text-pink q-mt-sm",staticStyle:{"font-size":"16px"}},[t._v("ACESSAR")])],1),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{staticClass:"relative-position",attrs:{size:"1.2em",round:"",color:"positive"},on:{click:function(e){t.cadastrar()}}},[o("q-icon",{staticClass:"absolute-center",attrs:{name:"edit",size:"1.3em"}})],1),o("div",{staticClass:"text-positive q-mt-sm",staticStyle:{"font-size":"11px"}},[t._v("CADASTRAR")])],1),o("div",{staticClass:"q-mt-md text-center"},[o("q-btn",{staticClass:"relative-position",attrs:{size:"1em",round:"",outline:"",color:"primary"},on:{click:function(e){t.recuperarSenha()}}},[o("q-icon",{staticClass:"absolute-center",attrs:{name:"vpn_key",size:"1.3em"}})],1),o("div",{staticClass:"text-primary q-mt-sm",staticStyle:{"font-size":"10px"}},[t._v("RECUPERAR SENHA")])],1)]):t._e()]),o("q-slide-transition",{staticClass:"relative-position"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogin,expression:"showLogin"}],staticClass:"absolute-bottom"},[o("div",{staticClass:"q-pl-lg q-pr-lg q-mb-xl"},[o("q-field",{attrs:{icon:"person",count:20,helper:"Mínimo de 4 caracteres"}},[o("q-input",{ref:"usuario",attrs:{"float-label":"Usuário",clearable:"",error:t.$v.form.usuario.$error},on:{blur:function(e){t.toUpper("usuario")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.focus("senha")}},model:{value:t.form.usuario,callback:function(e){t.$set(t.form,"usuario",e)},expression:"form.usuario"}})],1),o("q-field",{staticClass:"q-mt-md",attrs:{icon:"vpn_key",count:20,helper:"Mínimo de 4 caracteres"}},[o("q-input",{ref:"senha",attrs:{type:"password","float-label":"Senha",clearable:"",error:t.$v.form.senha.$error},on:{blur:function(e){t.toUpper("senha")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.entrar()}},model:{value:t.form.senha,callback:function(e){t.$set(t.form,"senha",e)},expression:"form.senha"}})],1),o("q-field",{staticClass:"q-mt-md"},[o("q-toggle",{staticClass:"q-ma-xs",attrs:{color:"secondary",label:"Lembrar Senha"},model:{value:t.form.lembrar,callback:function(e){t.$set(t.form,"lembrar",e)},expression:"form.lembrar"}})],1)],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary"},on:{click:function(e){t.mostrarMain()}}},[t._v("Voltar")])],1),o("div",{staticClass:"col"},[o("q-btn",{staticClass:"full-width",attrs:{color:"pink",loading:t.loading,disable:t.$v.form.$invalid||t.$v.form.$error||t.loading},on:{click:function(e){t.entrar()}}},[t._v("Entrar")])],1)])])])],1)},s=[];o._withStripped=!0;var i=a("MVZn"),r=a.n(i),n=a("L2JU"),c=a("ta7f"),l=a("FLf1"),u=a.n(l),m=a("oNfb"),f=a("9GRP"),d={data:function(){return{showMain:!0,showLogin:!1,form:{usuario:"",senha:"",lembrar:!1},loading:!1}},validations:{form:{usuario:{required:c["required"],minLength:Object(c["minLength"])(4),maxLength:Object(c["maxLength"])(20)},senha:{required:c["required"],minLength:Object(c["minLength"])(4),maxLength:Object(c["maxLength"])(20)}}},mounted:function(){this.$refs.usuario.blur(),this.$refs.senha.blur()},methods:r()({},Object(n["c"])("config",["GET_CHAVE","GET_APARELHO"]),Object(n["b"])("config",["conexao"]),Object(n["d"])("geral",["SET_TOOLBAR","SET_FROMLOGIN"]),{toUpper:function(t){this.form[t]=this.form[t].toUpperCase(),this.$v.form[t].$touch},mostrarMain:function(){this.showLogin=!1,this.showMain=!0},mostrarLogin:function(){this.showMain=!1,this.showLogin=!0},recuperarSenha:function(){this.$router.push({name:"RecuperarSenha"})},entrar:function(){var t=this;if(this.$v.form.$touch(),this.$v.form.$error)m["a"].mostrar("Informe todos os campos");else{this.loading=!0;var e=this.form,a=u.a.sign(e.senha,this.GET_CHAVE());f["a"].init(function(o){t.conexao({ctx:self,url:"/v1/acesso",form:{usuario:e.usuario,senha:a,fcm_token:o},sucesso:function(a){var o=a.data;console.log("data",o);var s=o.cliente?o.cliente:o.companhia?o.companhia:null;if(!s)return m["a"].mostrar("Usuário não identificado"),void(t.loading=!1);var i=o.cliente?"Pesquisar":"Convites";t.$q.localStorage.set("token",s.token),t.$q.localStorage.set("usuario",s),e.lembrar?t.$q.localStorage.set("login",!0):t.$q.localStorage.remove("login"),t.SET_FROMLOGIN(!0),t.$router.push({name:i})},erro:function(){t.loading=!1}})},function(){t.loading=!1,m["a"].mostrar("Erro na criação do token de notificação")})}},cadastrar:function(){this.$router.push({name:"Termos"})},focus:function(t){this.$refs[t].focus()}})},h=d,p=(a("2kGi"),a("KHd+")),v=Object(p["a"])(h,o,s,!1,null,null,null);e["default"]=v.exports},Kkic:function(t,e,a){t.exports=a.p+"img/icon-256x256.20c6420.png"},TFDZ:function(t,e,a){}}]);